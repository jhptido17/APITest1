@page "{handler?}"
@model IndexModel
@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers
@{
    Layout = "_Layout";
}

<!DOCTYPE html>

<html>
    <head>
        <meta name="viewport" content="width=device-width" />
        <title>Index</title>
    </head>
    <body>
        <div class="container">
            <h2>Login form</h2>
            @if(!HttpContext.Session.Keys.Contains("user")){
            <form method="post">
                <div class="form-group">
                    <label for="exampleInputEmail1">UserName</label>
                    <input type="text" class="form-control" name="username" aria-describedby="UserName" placeholder="UserName">
                </div>
                <div class="form-group">
                    <label for="exampleInputPassword1">Password</label>
                    <input type="password" class="form-control" name="password" placeholder="Password">
                </div>
                <button type="submit" asp-page-handler="LogIn" class="btn btn-primary">Submit</button>
            </form>
            }
            else
            {
                <form method="post">
                    <button type="submit" asp-page-handler="LogOut" class="btn btn-primary">LogOut</button>
                </form>
            }
            <p>@Model.errorMsg</p>
        </div>
    </body>
</html>
